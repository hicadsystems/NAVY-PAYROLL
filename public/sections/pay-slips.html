<!-- Payslip Section -->
<section class="items border rounded-lg m-6 max-w-lg mr-auto p-6 mx-auto">
  <h2 class="text-xl text-center border-b font-bold text-blue-600 mb-4">Generate and Print Payslips</h2>

  <form id="payslipForm" class="space-y-4">
    <!-- Radio selection -->
    <div>
      <label class="block font-medium mb-2">Select People</label>
      <div class="flex space-x-4">
        <label class="flex text-sm items-center space-x-2">
          <input type="radio" id="allRadio" name="people" value="all" checked>
          <span>All</span>
        </label>
        <label class="flex text-sm items-center space-x-2">
          <input type="radio" id="specificRadio" name="people" value="specific">
          <span>Specific</span>
        </label>
      </div>
    </div>

    <!-- Start Service No -->
    <div>
      <label for="startNo" class="block text-sm font-medium mb-1">Start Service No</label>
      <input type="text" id="startNo" name="startNo"
        class="w-full border rounded px-3 py-2 focus:ring focus:ring-blue-300" disabled />
    </div>

    <!-- End Service No -->
    <div>
      <label for="endNo" class="block text-sm font-medium mb-1">End Service No</label>
      <input type="text" id="endNo" name="endNo"
        class="w-full border rounded px-3 py-2 focus:ring focus:ring-blue-300" disabled />
    </div>

    <!-- Buttons -->
    <div class="flex gap-2 justify-end pt-2">
      <button type="reset" id="clearBtn"
        class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
        Clear
      </button>
      <button type="button" id="generateBtn"
        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
        Generate
      </button>
    </div>
  </form>
</section>

<!-- Confirmation Modal -->
<div id="confirmModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-lg w-96 p-6">
    <h3 class="text-lg font-semibold mb-4">Confirm Payslip Generation</h3>
    <p class="mb-6 text-gray-700">Do you want to continue and generate payslips?</p>

    <div class="flex justify-end space-x-2">
      <button id="cancelBtn"
        class="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500">
        Cancel
      </button>
      <button id="continueBtn"
        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
        Continue
      </button>
    </div>
  </div>
</div>

<!-- Success Modal -->
<div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-lg w-96 p-6 text-center">
    <h3 class="text-lg font-semibold text-green-600 mb-4">Success</h3>
    <p class="mb-6 text-gray-700">Payslips generated successfully!</p>
    <button id="successOkBtn"
      class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">
      OK
    </button>
  </div>
</div>

<!-- Error Modal -->
<div id="errorModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-lg w-96 p-6 text-center">
    <h3 class="text-lg font-semibold text-red-600 mb-4">Error</h3>
    <p class="mb-6 text-gray-700">Please fill in Start and End Service Numbers.</p>
    <button id="errorOkBtn"
      class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">
      OK
    </button>
  </div>
</div>

<script>
  const allRadio = document.getElementById("allRadio");
  const specificRadio = document.getElementById("specificRadio");
  const startNo = document.getElementById("startNo");
  const endNo = document.getElementById("endNo");
  const generateBtn = document.getElementById("generateBtn");
  const clearBtn = document.getElementById("clearBtn");

  const confirmModal = document.getElementById("confirmModal");
  const cancelBtn = document.getElementById("cancelBtn");
  const continueBtn = document.getElementById("continueBtn");

  const successModal = document.getElementById("successModal");
  const successOkBtn = document.getElementById("successOkBtn");

  const errorModal = document.getElementById("errorModal");
  const errorOkBtn = document.getElementById("errorOkBtn");

  function toggleInputs() {
    if (allRadio.checked) {
      startNo.disabled = true;
      endNo.disabled = true;
    } else {
      startNo.disabled = false;
      endNo.disabled = false;
    }
  }

  allRadio.addEventListener("change", toggleInputs);
  specificRadio.addEventListener("change", toggleInputs);

  generateBtn.addEventListener("click", () => {
    confirmModal.classList.remove("hidden");
  });

  cancelBtn.addEventListener("click", () => {
    confirmModal.classList.add("hidden");
  });

  continueBtn.addEventListener("click", () => {
    confirmModal.classList.add("hidden");

    if (specificRadio.checked && (!startNo.value || !endNo.value)) {
      errorModal.classList.remove("hidden");
    } else {
      successModal.classList.remove("hidden");
      // In real app: trigger API call or window.print();
    }
  });

  successOkBtn.addEventListener("click", () => {
    successModal.classList.add("hidden");
  });

  errorOkBtn.addEventListener("click", () => {
    errorModal.classList.add("hidden");
  });

  clearBtn.addEventListener("click", () => {
    allRadio.checked = true;
    toggleInputs();
  });

  toggleInputs();
</script>
